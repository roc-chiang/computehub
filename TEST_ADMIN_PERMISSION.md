# æµ‹è¯•ç®¡ç†å‘˜æƒé™

## æµ‹è¯•æ­¥éª¤

1. **é‡å¯ Next.js å¼€å‘æœåŠ¡å™¨**ï¼ˆé‡è¦ï¼ï¼‰
   ```bash
   # åœ¨ web ç›®å½•çš„ç»ˆç«¯æŒ‰ Ctrl+C åœæ­¢
   # ç„¶åé‡æ–°è¿è¡Œ
   npm run dev
   ```

2. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
   - å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®
   - é€‰æ‹© "æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"

3. **æµ‹è¯•æ™®é€šç”¨æˆ·**
   - ç”¨éç®¡ç†å‘˜è´¦æˆ·ç™»å½•
   - å°è¯•è®¿é—® http://localhost:3000/admin
   - **é¢„æœŸç»“æœ**: åº”è¯¥è¢«é‡å®šå‘åˆ° /deploy

4. **æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—**
   - æ‰“å¼€ç»ˆç«¯æŸ¥çœ‹ Next.js æœåŠ¡å™¨æ—¥å¿—
   - åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š
   ```
   ğŸ”’ Admin route access attempt: { path: '/admin', userId: 'user_xxx', sessionClaims: {...} }
   ğŸ” Role check: { role: undefined, isAdmin: false }
   âŒ Not admin - redirecting to /deploy
   ```

5. **è®¾ç½®ç®¡ç†å‘˜è§’è‰²åæµ‹è¯•**
   - åœ¨ Clerk Dashboard è®¾ç½® `{"role": "admin"}`
   - é€€å‡ºç™»å½•
   - é‡æ–°ç™»å½•
   - å†æ¬¡è®¿é—® /admin
   - **é¢„æœŸç»“æœ**: åº”è¯¥èƒ½æ­£å¸¸è®¿é—®

## å¦‚æœè¿˜æ˜¯ä¸å·¥ä½œ

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. ç»ˆç«¯ä¸­çš„æ—¥å¿—è¾“å‡º
2. sessionClaims çš„å®Œæ•´å†…å®¹
3. æ˜¯å¦é‡å¯äº† Next.js æœåŠ¡å™¨

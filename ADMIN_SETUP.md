# è®¾ç½®ç®¡ç†å‘˜è´¦æˆ·æŒ‡å—

## ğŸ¯ ç›®æ ‡
å°† `gujian8@gmail.com` è®¾ç½®ä¸ºç®¡ç†å‘˜è´¦æˆ·

## ğŸ“‹ æ–¹æ³•ä¸€ï¼šé€šè¿‡ Clerk Dashboardï¼ˆæ¨èï¼‰

### æ­¥éª¤ï¼š

1. **ç™»å½• Clerk Dashboard**
   - è®¿é—®: https://dashboard.clerk.com
   - é€‰æ‹©ä½ çš„åº”ç”¨

2. **æ‰¾åˆ°ç”¨æˆ·**
   - è¿›å…¥ "Users" é¡µé¢
   - æœç´¢ `gujian8@gmail.com`
   - å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œå…ˆåœ¨ http://localhost:3000 æ³¨å†Œ

3. **è®¾ç½®ç®¡ç†å‘˜è§’è‰²**
   - ç‚¹å‡»ç”¨æˆ·è¿›å…¥è¯¦æƒ…é¡µ
   - æ‰¾åˆ° "Public metadata" éƒ¨åˆ†
   - ç‚¹å‡» "Edit"
   - æ·»åŠ ä»¥ä¸‹ JSON:
   ```json
   {
     "role": "admin"
   }
   ```
   - ç‚¹å‡» "Save"

4. **éªŒè¯**
   - åˆ·æ–°å‰ç«¯é¡µé¢
   - å°è¯•è®¿é—® http://localhost:3000/admin
   - åº”è¯¥å¯ä»¥æ­£å¸¸è®¿é—®

---

## ğŸ“‹ æ–¹æ³•äºŒï¼šé€šè¿‡ API è„šæœ¬ï¼ˆéœ€è¦ Clerk Secret Keyï¼‰

### å‰ç½®æ¡ä»¶ï¼š
éœ€è¦åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ  `CLERK_SECRET_KEY`

### æ­¥éª¤ï¼š

1. **è·å– Clerk Secret Key**
   - ç™»å½• Clerk Dashboard
   - è¿›å…¥ "API Keys" é¡µé¢
   - å¤åˆ¶ "Secret Key"ï¼ˆä»¥ `sk_` å¼€å¤´ï¼‰

2. **æ·»åŠ åˆ° .env æ–‡ä»¶**
   ```bash
   # åœ¨ services/control-plane/.env ä¸­æ·»åŠ 
   CLERK_SECRET_KEY=sk_test_your_secret_key_here
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   cd services/control-plane
   pip install requests python-dotenv
   ```

4. **è¿è¡Œè„šæœ¬**
   ```bash
   python set_admin_user.py
   ```

5. **æŸ¥çœ‹è¾“å‡º**
   ```
   âœ… Successfully set gujian8@gmail.com as admin!
   ```

---

## ğŸ” éªŒè¯ç®¡ç†å‘˜æƒé™

### æµ‹è¯•æ­¥éª¤ï¼š

1. **æœªç™»å½•çŠ¶æ€**
   - è®¿é—® http://localhost:3000
   - åº”è¯¥åªçœ‹åˆ° "Log in" å’Œ "Get Started" æŒ‰é’®
   - è®¿é—® http://localhost:3000/admin â†’ é‡å®šå‘åˆ°ç™»å½•é¡µ

2. **æ™®é€šç”¨æˆ·ç™»å½•**
   - ç”¨éç®¡ç†å‘˜è´¦æˆ·ç™»å½•
   - é¦–é¡µåº”è¯¥åªæ˜¾ç¤º "Dashboard" æŒ‰é’®
   - è®¿é—® http://localhost:3000/admin â†’ é‡å®šå‘åˆ° /deploy

3. **ç®¡ç†å‘˜ç™»å½•**
   - ç”¨ gujian8@gmail.com ç™»å½•
   - é¦–é¡µåº”è¯¥åªæ˜¾ç¤º "Dashboard" æŒ‰é’®
   - è®¿é—® http://localhost:3000/admin â†’ æ­£å¸¸è®¿é—® âœ…
   - è®¿é—® http://localhost:3000/deploy â†’ æ­£å¸¸è®¿é—® âœ…

---

## ğŸš€ å¿«æ·ç™»å½•ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œé¡µé¢å³ä¸‹è§’ä¼šæ˜¾ç¤º "Dev Login" æŒ‰é’®ï¼š
- ç‚¹å‡»æŒ‰é’®å¿«é€Ÿæ‰“å¼€ç™»å½•å¯¹è¯æ¡†
- åªåœ¨ `NODE_ENV=development` æ—¶æ˜¾ç¤º
- ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨éšè—

---

## ğŸ”§ è·¯ç”±ä¿æŠ¤è§„åˆ™

### å…¬å¼€è·¯ç”±ï¼ˆæ— éœ€ç™»å½•ï¼‰ï¼š
- `/` - é¦–é¡µ
- `/login` - ç™»å½•é¡µ
- `/about` - å…³äºé¡µ
- `/docs` - æ–‡æ¡£é¡µ
- `/pricing` - ä»·æ ¼é¡µ

### éœ€è¦ç™»å½•çš„è·¯ç”±ï¼š
- `/deploy/*` - éƒ¨ç½²ç®¡ç†
- `/tickets/*` - å·¥å•ç³»ç»Ÿ

### éœ€è¦ç®¡ç†å‘˜æƒé™çš„è·¯ç”±ï¼š
- `/admin/*` - ç®¡ç†åå°

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q: è®¾ç½®äº† admin è§’è‰²ä½†è¿˜æ˜¯æ— æ³•è®¿é—® /adminï¼Ÿ
A: 
1. ç¡®è®¤ Clerk Dashboard ä¸­çš„ metadata æ ¼å¼æ­£ç¡®
2. é€€å‡ºç™»å½•åé‡æ–°ç™»å½•
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Q: Dev Login æŒ‰é’®ä¸æ˜¾ç¤ºï¼Ÿ
A: 
1. ç¡®è®¤æ˜¯å¼€å‘ç¯å¢ƒï¼ˆ`npm run dev`ï¼‰
2. æ£€æŸ¥ `NODE_ENV` ç¯å¢ƒå˜é‡
3. åˆ·æ–°é¡µé¢

### Q: è„šæœ¬æŠ¥é”™ "CLERK_SECRET_KEY not found"ï¼Ÿ
A: 
1. ç¡®è®¤ `.env` æ–‡ä»¶ä½ç½®æ­£ç¡®
2. ç¡®è®¤ key åç§°æ˜¯ `CLERK_SECRET_KEY`
3. ç¡®è®¤ key å€¼ä»¥ `sk_` å¼€å¤´

---

## ğŸ“ æ¨èåšæ³•

**æ¨èä½¿ç”¨æ–¹æ³•ä¸€ï¼ˆClerk Dashboardï¼‰**ï¼Œå› ä¸ºï¼š
- âœ… æ›´å®‰å…¨ï¼ˆä¸éœ€è¦æš´éœ² Secret Keyï¼‰
- âœ… æ›´ç›´è§‚ï¼ˆå¯è§†åŒ–ç•Œé¢ï¼‰
- âœ… æ›´å¿«é€Ÿï¼ˆæ— éœ€å®‰è£…ä¾èµ–ï¼‰

**æ–¹æ³•äºŒé€‚ç”¨äºï¼š**
- æ‰¹é‡è®¾ç½®å¤šä¸ªç®¡ç†å‘˜
- è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
- CI/CD æµç¨‹

# ComputeHub 开发路线图

**最后更新**: 2025-12-21  
**当前版本**: v0.8.1  
**产品定位**: GPU 聚合平台 + 自动化调度层 (参考 PRD.md)

---

## 🎯 产品核心定位

> **ComputeHub = Skyscanner for GPU + Cross-Cloud Orchestration**

### 我们不是什么
- ❌ 不是 GPU 提供商
- ❌ 不按 GPU 使用量计费
- ❌ 不承担 GPU 成本

### 我们是什么
- ✅ **管理平台** - 统一控制台管理多个 Provider
- ✅ **自动化工具** - 智能调度、故障切换、成本优化
- ✅ **SaaS 订阅服务** - 用户付月费使用管理功能

### 商业模式
- **Free**: $0 - 1 Provider、基础管理
- **Pro**: $49/月 - 3 Providers、自动化、通知
- **Team**: $299/月 - 无限 Providers、高级自动化、团队协作

---

## ✅ 已完成功能 (Phase 0-8.1)

### 🟢 Phase 0-4: 基础设施 (100%)
- ✅ 用户系统 (Clerk 认证)
- ✅ 数据库模型 (SQLModel + PostgreSQL)
- ✅ FastAPI 后端框架
- ✅ Next.js 前端框架
- ✅ Provider Adapter 架构

### 🟢 Phase 5: 多 Provider 支持 (100%)
- ✅ RunPod Adapter (完整实现)
- ✅ Vast.ai Adapter (基础实现)
- ✅ Local Adapter (Mock 测试)
- ✅ Provider 管理后台
- ✅ 用户 Provider 绑定 (API Key 加密存储)

### 🟢 Phase 6: 部署管理 (100%)
- ✅ 创建部署 (支持多 Provider)
- ✅ 部署列表页面
- ✅ 启动/停止/重启/删除
- ✅ SSH 连接信息
- ✅ 状态同步 (后台任务)

### 🟢 Phase 7: 价格比较 (100%)
- ✅ 实时价格聚合
- ✅ GPU 规格对比
- ✅ 最佳性价比推荐
- ✅ 价格比较抽屉

### 🟢 Phase 8.1: 部署详情页增强 (100%)
- ✅ 实时日志查看器 (每 2 秒刷新)
- ✅ 性能监控图表 (GPU/CPU/RAM,每 5 秒刷新)
- ✅ 文件浏览器 (UI 完成,标注开发中)
- ✅ 审计日志 (显示部署历史)
- ✅ 状态指示器 (Live/Starting/Stopped/Error)

---

## 🚧 进行中功能

### 🟡 Phase 8.2: 文档整理 (当前)
- 🚧 PRD.md 复制到项目根目录
- 🚧 创建 DOCS_INDEX.md 文档索引
- 🚧 创建 ROADMAP.md 开发路线图
- ⏳ 归档过时文档
- ⏳ 更新 README.md

---

## ⏳ 待开发功能 (按优先级排序)

### 🔥🔥🔥 P0 - 核心护城河 (最高优先级)

#### Phase 9: 自动化调度层 (2-3 周)
**目标**: ComputeHub 的核心差异化功能

**基础自动化** (Pro 层):
- ⏳ 健康检查 (每 30 秒 ping 实例)
- ⏳ 宕机自动重启
- ⏳ 成本上限自动关机
- ⏳ 实例状态监控

**高级自动化** (Team 层):
- ⏳ 价格上涨自动迁移
- ⏳ 跨供应商 Failover
- ⏳ Spot GPU 自动补位
- ⏳ 批处理任务队列

**规则引擎**:
- ⏳ 可视化规则画布
- ⏳ 自定义触发条件
- ⏳ 多种动作 (重启/迁移/通知/关机)

**工作量**: 2-3 周  
**商业价值**: ⭐⭐⭐⭐⭐ (核心卖点)

---

#### Phase 10: 通知系统 (1 周)
**目标**: 及时告知用户重要事件

**通知渠道**:
- ⏳ Email 通知
- ⏳ Telegram Bot
- ⏳ Webhook

**触发事件**:
- ⏳ 实例宕机
- ⏳ 成本超额
- ⏳ 部署成功/失败
- ⏳ 价格变化告警

**工作量**: 1 周  
**商业价值**: ⭐⭐⭐⭐ (用户体验)

---

### 🔥🔥 P1 - 核心功能完善

#### Phase 11: 订阅系统 (1 周)
**目标**: 实现商业变现

**功能**:
- ⏳ Stripe 集成
- ⏳ 订阅管理页面
- ⏳ 套餐升级/降级
- ⏳ 发票生成
- ⏳ 功能权限控制

**工作量**: 1 周  
**商业价值**: ⭐⭐⭐⭐⭐ (变现核心)

---

#### Phase 12: 实时监控 (2 周)
**目标**: 提供详细的实例监控

**功能**:
- ⏳ GPU 温度/负载实时显示
- ⏳ 显存占用
- ⏳ CPU/内存监控
- ⏳ 网络流量
- ⏳ WebSSH 终端
- ⏳ 自动报警

**工作量**: 2 周  
**商业价值**: ⭐⭐⭐⭐ (Pro 功能)

---

#### Phase 13: 部署模板系统 (1 周)
**目标**: 简化常见场景部署

**预置模板**:
- ⏳ Llama Inference
- ⏳ ComfyUI
- ⏳ Stable Diffusion WebUI
- ⏳ Jupyter / VSCode Server

**功能**:
- ⏳ 模板市场
- ⏳ 自定义模板
- ⏳ 一键部署

**工作量**: 1 周  
**商业价值**: ⭐⭐⭐ (用户体验)

---

### 🔥 P2 - 增值功能

#### Phase 14: 团队协作 (2-3 周)
**目标**: 支持团队使用

**功能**:
- ⏳ 多用户管理
- ⏳ 权限控制 (Admin/Dev/Viewer)
- ⏳ 成本中心
- ⏳ 项目隔离
- ⏳ 团队审计日志

**工作量**: 2-3 周  
**商业价值**: ⭐⭐⭐⭐ (Team 套餐)

---

#### Phase 15: 新 Provider 集成
**目标**: 扩大供应商覆盖

**待集成**:
- ⏳ Lambda Labs
- ⏳ TensorDock
- ⏳ Akash Network
- ⏳ Paperspace

**工作量**: 每个 3-5 天  
**商业价值**: ⭐⭐⭐ (用户选择)

---

## 📅 开发时间表

### Month 1: 核心护城河 (当前)
- Week 1: 文档整理 + 自动调度层 (开始)
- Week 2-3: 自动调度层 (完成)
- Week 4: 通知系统

### Month 2: 商业化
- Week 5: 订阅系统 (Stripe)
- Week 6-7: 实时监控
- Week 8: 部署模板

### Month 3: 团队功能
- Week 9-11: 团队协作
- Week 12: 测试 + 优化 + 上线

---

## 🎯 成功指标

### 用户增长目标
- Month 3: 1000+ Free 用户
- Month 6: 5-10% Pro 转化率
- Year 1: $50,000 MRR

### 产品指标
- 用户留存率: >60%
- Pro 功能使用率: >80%
- 自动调度成功率: >95%

---

## 🚀 下一步行动

### 立即开始 (本周)
1. ✅ 复制 PRD.md 到项目根目录
2. ✅ 创建 DOCS_INDEX.md
3. ✅ 创建 ROADMAP.md
4. ⏳ 归档过时文档
5. ⏳ 开始 Phase 9: 自动化调度层

### 本月目标
- 完成自动化调度层
- 完成通知系统
- 为订阅系统做准备

---

## 📝 开发原则

### 决策参考顺序
1. **PRD.md** - 产品定位和商业模式
2. **ROADMAP.md** - 当前优先级
3. **Help.md** - 技术实现细节

### 核心原则
- ✅ 所有功能必须符合 PRD 定位
- ✅ 优先开发核心护城河功能
- ✅ 保持代码质量和可维护性
- ✅ 及时更新文档

---

**参考文档**: PRD.md, DOCS_INDEX.md, Help.md

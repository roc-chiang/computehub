# ComputeHub — Product Requirements Document (PRD) V1.0

## 📌 1. 产品定位

### 核心定位
**ComputeHub = Skyscanner for GPU Compute + Cross-Cloud Orchestration**

- GPU 聚合平台
- 跨供应商统一控制台
- 自动化调度层

### 我们不是什么
- ❌ 不是 GPU 服务商
- ❌ 不是代售/代租平台
- ❌ 不承担 GPU 成本

### 我们是什么
- ✅ 跨云的自动化管理系统
- ✅ 各供应商都不提供，但所有用户都需要的工具
- ✅ AI 部署领域的 Cloudflare

---

## 📌 2. 产品价值（核心三层）

### ① 聚合层（Aggregation Layer）

**目的**: 让用户找到最便宜/最合适的 GPU

**当前状态**: ✅ 70% 已完成

**功能**:
- ✅ 多供应商价格对比
- ✅ 实例类型比对（VRAM、PCIe、Local Disk）
- ⚠️ 历史价格趋势（部分完成）
- ✅ 最佳性价比推荐
- ⚠️ 已绑定 Provider 的实时可用性显示（待完善）

**价值**:
- SEO 自然流量入口
- 用户增长核心
- 免费层吸引力

**优先级**: ✅ P0（基础已完成，持续优化）

---

### ② 体验层（Experience Layer）

**目的**: 统一控制台，消灭不同供应商的 UI 异构问题

**当前状态**: ⚠️ 50% 已完成

**功能**:
- ✅ 统一实例列表（跨供应商）
- ✅ 批量操作（启动/停止/删除）
- ✅ 部署模板（自动生成启动脚本）
- ✅ 成本面板（跨云汇总）
- ✅ Provider API Key 管理
- ⏳ 通知系统（待开发）
- ⏳ 实时监控（待开发）

**价值**:
- 用户完全不想在 Vast / RunPod / Lambda / Akash 之间切 UI
- ComputeHub 是"它们的上位 UI"
- 强用户粘性

**优先级**: 🔥 P0（核心用户体验）

---

### ③ 调度层（Automation Layer）

**目的**: ComputeHub 的护城河、竞争壁垒

**当前状态**: ❌ 0%，但最有价值

**功能**:
- ⏳ 实例宕机自动重启
- ⏳ 低价节点自动迁移
- ⏳ 成本超额自动关机
- ⏳ 跨供应商 Failover
- ⏳ 批处理任务队列（自定义 Runner）

**价值**:
- **供应商永远不会做的功能，只有你能做**
- 在用户的 GPU 运行链路中形成长期锁定（sticky effect）
- 真正的差异化竞争优势

**优先级**: 🔥🔥🔥 P0（核心护城河）

---

## 📌 3. 目标用户

### 🎯 核心用户人群

1. **AI 工程师 / LLM 研发者**
   - 需要训练和微调模型
   - 需要成本优化
   - 需要稳定性

2. **ComfyUI / Stable Diffusion 用户**
   - 图像生成工作流
   - 需要高性价比 GPU
   - 频繁切换供应商

3. **训练小模型的开发者**
   - 预算有限
   - 需要灵活调度
   - 需要自动化

4. **AI 初创公司的 DevOps**
   - 多项目管理
   - 成本控制
   - 团队协作

5. **Kaggle / Colab 迁移用户**
   - 需要更强算力
   - 需要更长运行时间
   - 需要更好的控制

6. **AI 课程或 Bootcamp**
   - 教学使用
   - 批量管理
   - 成本可控

### 用户需求总结

| 需求 | ComputeHub 解决方案 |
|------|---------------------|
| 找便宜 GPU | 聚合层价格对比 |
| 跨平台统一管理 | 体验层统一控制台 |
| 更稳定的训练 | 调度层自动续命 |
| 消灭供应商切换痛苦 | 一键迁移 + 模板 |

**ComputeHub 正好覆盖所有痛点** ✅

---

## 📌 4. 功能清单（最终版）

### 🟦 4.1 Account / Billing

#### 用户系统
- ✅ 注册、登录（Clerk）
- ✅ 个人设置
- ⏳ API Key（用于调用 ComputeHub 的后端）

#### 订阅系统（Stripe）
| Plan | Price | Features |
|------|-------|----------|
| **Free** | $0 | 1 Provider、基础管理、价格对比 |
| **Pro** | $49/月 | 3 Providers、基础自动化、通知、批量操作、模板 |
| **Team** | $299/月 | 无限 Providers、高级自动化、团队协作、SLA 99.5% |
| **Enterprise** | 定制 | 合规、私有部署、定制开发 |

**状态**: ⏳ 60% 完成（数据库 + API 完成，前端待开发）

---

### 🟧 4.2 Provider Binding

**状态**: ✅ 已完成

**功能**:
- ✅ Provider API 密钥加密（AES-256）
- ✅ Provider 可用性测试
- ✅ 多 Provider 绑定（Free 版限制为 1 个）
- ✅ 自动同步实例列表

**支持供应商**:
- ✅ Vast.ai
- ✅ RunPod
- ⏳ Lambda（待开发）
- ⏳ TensorDock（待开发）
- ⏳ Akash（待开发）

---

### 🟩 4.3 Price Comparison Layer

**状态**: ✅ 已完成

**功能**:
- ✅ 实时价格聚合
- ⚠️ 历史价格趋势图（部分完成）
- ✅ GPU 规格对比
- ✅ 最佳性价比推荐
- ✅ Search Filters：GPU、VRAM、Disk、地域

---

### 🟦 4.4 Deployment Templates

**状态**: ✅ 基础版已完成

**ComputeHub 提供跨平台通用模板**:

| 模板 | 用途 | 状态 |
|------|------|------|
| Llama Inference | 轻量部署 LLM | ⏳ 待开发 |
| ComfyUI | 图像生成 | ⏳ 待开发 |
| SD WebUI | Stable Diffusion | ⏳ 待开发 |
| Jupyter / VSCode Server | 开发环境 | ⏳ 待开发 |

**模板内容**:
- 预设 Docker
- 启动参数
- 环境变量
- 自动挂载磁盘
- SSH 开启

**当前状态**: 
- ✅ 模板系统架构完成
- ⏳ 预置模板待开发

---

### 🟨 4.5 Instance Management

**状态**: ⚠️ 50% 已完成

#### 基础操作（Phase 4 已完成）
- ✅ 启动 / 停止 / 删除
- ✅ 实例信息：GPU/CPU/RAM/Disk
- ✅ SSH 信息
- ✅ 端口映射
- ✅ 跨云统一 UI

#### Pro 功能（待开发）
- ✅ 批量操作
- ⏳ 成本上限策略
- ⏳ 自动删除策略

---

### 🟥 4.6 Automation Engine（核心护城河）

**状态**: ❌ 0%（最高优先级）

**时间估算**: 2-3 周

#### P0 - 自动化功能

**基础自动化（Pro 层）**:
- ⏳ 宕机检测（心跳）
- ⏳ 自动重启

**高级自动化（Team 层）**:
- ⏳ 价格上涨自动迁移（模板迁移）
- ⏳ Spot GPU 自动补位
- ⏳ 跨供应商 Failover
- ⏳ 失败任务重试
- ⏳ 批处理任务队列

#### 规则引擎（Rule Builder）

**概念**:
```
IF cost_per_hour > X AND gpu_type == "A100"
THEN migrate_to == "RunPod"
```

**功能**:
- 可视化规则画布
- 自定义触发条件
- 多种动作（重启、迁移、通知、关机）

---

### 🟪 4.7 Monitoring

**状态**: ⏳ 待开发（P1）

**功能**:
- ⏳ GPU 温度/负载
- ⏳ 显存占用
- ⏳ CPU/内存
- ⏳ 网络流量
- ⏳ 实时日志
- ⏳ WebSSH
- ⏳ 自动报警

---

### 🟦 4.8 Notifications

**状态**: ⏳ 待开发（P0）

**通知渠道**:
- ⏳ Email
- ⏳ Telegram Bot
- ⏳ Webhook

**触发事件**:
- 宕机
- 成本超额
- GPU 断线
- 部署成功/失败
- 价格变化

---

### 🟧 4.9 Team Collaboration

**状态**: ⏳ 待开发（P2）

**功能**:
- ⏳ 多用户
- ⏳ 权限（Admin/Dev/Viewer）
- ⏳ 成本中心
- ⏳ 项目隔离
- ⏳ 团队审计日志

---

## 📌 5. 定价策略（最终版）

### 为什么不用 Credits？

**当前架构**:
- 用户不是用你的 GPU
- 你不承担 GPU 成本
- 你只提供管理和自动化服务

**结论**:
- ✅ 订阅制清晰、简单、稳定
- ✅ 是最适合 SaaS 的模式
- ✅ 用户心智负担小

### 订阅方案

| Plan | Price | 目标 | 转化率目标 |
|------|-------|------|-----------|
| **Free** | $0 | 最大用户池，SEO 流量入口 | - |
| **Pro** | $49/月 | 主要收入来源 | 5-10% |
| **Team** | $299/月 | 小团队付费升级 | 10-15% |
| **Enterprise** | 定制 | 大客户 | 5-10% |

---

## 📌 6. 商业逻辑（Pitch Deck 版本）

### ComputeHub 解决的问题

> "GPU 供应商几十家，但没有一个平台能统一管理，也没有自动调度。"

### 你的定位

> "ComputeHub = AI 部署领域的 Cloudflare。"

### 护城河

1. **多供应商聚合**
   - 迁移成本高
   - 数据积累
   - 网络效应

2. **自动调度**
   - 供应商无法做
   - 技术壁垒
   - 核心差异化

3. **统一控制台**
   - 强锁定
   - 用户习惯
   - 切换成本高

### 收入模型

1. **SaaS 订阅**
   - 高毛利（>80%）
   - 可预测收入
   - 规模化

2. **企业合作**
   - 团队体系
   - 定制服务
   - 高客单价

---

## 📌 7. 当前实现状态总览

| 模块 | 完成度 | 优先级 | 预计时间 |
|------|--------|--------|----------|
| 聚合层 | 70% | ✅ P0 | 持续优化 |
| Provider 绑定 | 80% | ✅ P0 | 1 周（新供应商）|
| 体验层 | 50% | 🔥 P0 | 2-3 周 |
| 订阅系统 | 60% | 🔥 P0 | 1 周 |
| 通知系统 | 0% | 🔥 P0 | 1 周 |
| 调度层 | 0% | 🔥🔥🔥 P0 | 2-3 周 |
| 监控系统 | 0% | 🟡 P1 | 2 周 |
| 预置模板 | 0% | 🟡 P1 | 1 周 |
| 团队协作 | 0% | 🟢 P2 | 2-3 周 |

---

## 📌 8. 开发路线图

### Month 1: 核心变现基础
- Week 1: 订阅系统完成
- Week 2: 通知系统
- Week 3-4: 自动调度（开始）

### Month 2: 核心护城河
- Week 5-8: 自动调度系统（完成）
- 实时监控（开始）

### Month 3: 完善体验
- Week 9-10: 实时监控（完成）
- Week 11: 预置模板
- Week 12: 测试 + 优化

---

## 📌 9. 成功指标

### 用户增长
- Free 用户: 1000+ (Month 3)
- Pro 转化: 5-10%
- Team 转化: 10-15%

### 收入目标
- Month 3: $5,000 MRR
- Month 6: $15,000 MRR
- Year 1: $50,000 MRR

### 产品指标
- 用户留存率: >60%
- Pro 功能使用率: >80%
- 自动调度成功率: >95%

---

**PRD V1.0 完成！** 🎯
